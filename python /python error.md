هنگامی که شما در CentOS با دستور python --version یا python3 --version نسخه پایتون را بررسی می‌کنید، به صورت پیش‌فرض نسخه قدیمی مانند 2.7.5 نمایش داده می‌شود. حتی اگر ایمیج داکر با پایتون جدید (مثلاً 3.22 یا 3.x.x) دریافتی باشد، این موضوع مستقیم روی سیستم اصلی تغییر ایجاد نمی‌کند.

نکات کلیدی
نسخه پایتون روی CentOS (سیستم میزبان) تغییر نمی‌کند مگر اینکه نصب یا ارتقا انجام دهید. ایمیج داکر فقط در محیط کانتینر خودش نسخه جدید پایتون را دارد.

داکر ایزوله است و نرم‌افزارهای داخل کانتینر هیچ ارتباطی با نسخه‌های نصب شده روی میزبان ندارند.

راهکارها و نحوه استفاده از پایتون 3 در CentOS و داکر
1. اجرای پایتون 3 در محیط داکر
برای استفاده از پایتون نسخه جدید کافی است یک کانتینر جدید با ایمیج python اجرا کنید:

```bash
docker run -it python:3.11 bash
# یا برای آخرین نسخه موجود
docker run -it python:latest bash
```
و سپس داخل شل کانتینر:

```bash
python --version
# یا
python3 --version
```
در این حالت نسخه پایتون 3 جدید نمایش داده می‌شود و فقط داخل همان کانتینر فعال است.

2. نصب یا ارتقای پایتون 3 روی CentOS (سیستم میزبان)
اگر می‌خواهید روی خود CentOS هم پایتون 3 نصب یا آپدیت باشد:

روی CentOS 7 به بالا:

```bash
sudo yum install -y python3
```
سپس:

```bash
python3 --version
```
اگر نسخه جدیدتری نیاز بود (برای مثال 3.10 یا بالاتر)، ابتدا بسته‌های توسعه را نصب کنید و سپس از سورس کامپایل کنید:

```bash
sudo yum groupinstall -y "Development Tools"
cd /usr/src
sudo wget https://www.python.org/ftp/python/3.11.3/Python-3.11.3.tgz
sudo tar xzf Python-3.11.3.tgz
cd Python-3.11.3
sudo ./configure --enable-optimizations
sudo make
sudo make install
python3.11 --version
```
توجه: این نسخه به عنوان python3.11 در دسترس است و python همچنان ممکن است 2.7 بماند (مگر تغییر مسیر (symlink) دهید).

3. توجه به تفاوت محیط‌ها
دستورات داکر بر سیستم اصلی اثری ندارد، فقط در محیط ایزوله کانتینر انجام می‌شود.

اگر در کانتینر داکری پایتون جدید می‌بینید اما روی خود CentOS نه، کاملاً طبیعی است.

جمع‌بندی
اگر هدف اجرای پایتون 3.22 است، دستورات را مستقیماً در کانتینر داکر با python:3.22 اجرا کنید.

اگر هدف ارتقای پایتون خود سرور است، باید پایتون 3 را نصب یا کامپایل کنید.

فرمان‌های python و python3 را به طور جداگانه تست کنید؛ ممکن است یکی هنوز روی نسخه 2.7 باشد و دیگری روی 3.x.

=========================================================================================================
